<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3.events.extra.exercise-04b</title>
</head>

<body>
    <h6># Español
        Basandote en el ejercicio anterior. Crea un botón para cada uno de los elementos de las listas que elimine ese
        mismo elemento del html.</h6>

    <script>
        const countries = [
            { title: 'Random title', imgUrl: 'https://picsum.photos/300/200?random=1' },
            { title: 'Random title', imgUrl: 'https://picsum.photos/300/200?random=2' },
            { title: 'Random title', imgUrl: 'https://picsum.photos/300/200?random=3' },
            { title: 'Random title', imgUrl: 'https://picsum.photos/300/200?random=4' },
            { title: 'Random title', imgUrl: 'https://picsum.photos/300/200?random=5' }];

        /*  draw the cards with the images and a text*/
        countries.forEach(country => {

            /*  create a variable and assign it a new <di> tag that will be inside the <container> tag.*/
            let countryNode = document.createElement('div');
            /* going to assign a class name to the <div> tag created in the previous step*/
            countryNode.className = (`country${countries.indexOf(country)}`);


            /* create an HTML image tag inside the container tag*/
            let button = document.createElement('button');
            let imgNode = document.createElement('img');
            button.className = (`btn${countries.indexOf(country)}`);
            /* insert the image inside the card */
            imgNode.setAttribute('src', country.imgUrl);
            countryNode.appendChild(imgNode);

            /* Let's give a title to the image with */
            let textNode = document.createElement('p');

            /* assign the title*/
            textNode.innerHTML = (country.title);
            button.innerHTML = ('Borrar este elemento de la lista');

            /* introduce this title to the letter */
            countryNode.appendChild(textNode);

            document.body.appendChild(countryNode);
            document.body.appendChild(button);

            function handleClick() {
                const buttonClick = button.getAttribute('class');
                let buttonsList = document.querySelectorAll('button');


                if (buttonClick === buttonsList[0].className) {
                    let div = document.querySelector('.country0');
                    div.remove()
                } else if (buttonClick === buttonsList[1].className) {
                    let div = document.querySelector('.country1');
                    div.remove();
                } else if (buttonClick === buttonsList[2].className) {
                    let div = document.querySelector('.country2');
                    div.remove()
                } else if (buttonClick === buttonsList[3].className) {
                    let div = document.querySelector('.country3');
                    div.remove()
                } else {
                    let div = document.querySelector('.country4');
                    div.remove()
                }
            }

            button.addEventListener('click', handleClick);
        });
    </script>
</body>

</html>